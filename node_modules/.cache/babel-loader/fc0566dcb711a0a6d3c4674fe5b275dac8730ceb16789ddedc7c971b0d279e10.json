{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../CSS/body.css';import RestaurantCard from'./RestaurantCard';import Shimmer from'./Shimmer';import{Link,useNavigate}from'react-router-dom';import Categories from'./Categories';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Body=()=>{const[listOfRestaurants,setListOfRestaurants]=useState([]);const[filteredRestaurants,setFilteredRestaurants]=useState([]);const[resHead,setResHead]=useState(\"\");const[searchText,setSearchText]=useState(\"\");const filterCardsRated=()=>{setFilteredRestaurants(listOfRestaurants.filter(res=>res.info.avgRating>4.3));};const navigate=useNavigate();useEffect(()=>{fetchData();},[]);const fetchData=async()=>{var _json$data,_restro$card,_restro$card$card,_restro$card$card$gri,_restro$card$card$gri2,_restro$card2,_restro$card2$card,_restro$card2$card$gr,_restro$card2$card$gr2,_restro$card3,_restro$card3$card,_restro$card3$card$he;const data=await fetch(\"https://proxy.cors.sh/https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\",{headers:{'x-cors-api-key':'temp_30ab0b2006237d8f81f9982b7db77f63'}});const json=await data.json();const restro=json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:_json$data.cards.filter(item=>{var _item$card,_item$card$card,_item$card$card$gridE,_item$card$card$gridE2;return(_item$card=item.card)===null||_item$card===void 0?void 0:(_item$card$card=_item$card.card)===null||_item$card$card===void 0?void 0:(_item$card$card$gridE=_item$card$card.gridElements)===null||_item$card$card$gridE===void 0?void 0:(_item$card$card$gridE2=_item$card$card$gridE.infoWithStyle)===null||_item$card$card$gridE2===void 0?void 0:_item$card$card$gridE2.restaurants;})[0];// console.log(restro)\nsetListOfRestaurants(restro===null||restro===void 0?void 0:(_restro$card=restro.card)===null||_restro$card===void 0?void 0:(_restro$card$card=_restro$card.card)===null||_restro$card$card===void 0?void 0:(_restro$card$card$gri=_restro$card$card.gridElements)===null||_restro$card$card$gri===void 0?void 0:(_restro$card$card$gri2=_restro$card$card$gri.infoWithStyle)===null||_restro$card$card$gri2===void 0?void 0:_restro$card$card$gri2.restaurants);setFilteredRestaurants(restro===null||restro===void 0?void 0:(_restro$card2=restro.card)===null||_restro$card2===void 0?void 0:(_restro$card2$card=_restro$card2.card)===null||_restro$card2$card===void 0?void 0:(_restro$card2$card$gr=_restro$card2$card.gridElements)===null||_restro$card2$card$gr===void 0?void 0:(_restro$card2$card$gr2=_restro$card2$card$gr.infoWithStyle)===null||_restro$card2$card$gr2===void 0?void 0:_restro$card2$card$gr2.restaurants);setResHead(restro===null||restro===void 0?void 0:(_restro$card3=restro.card)===null||_restro$card3===void 0?void 0:(_restro$card3$card=_restro$card3.card)===null||_restro$card3$card===void 0?void 0:(_restro$card3$card$he=_restro$card3$card.header)===null||_restro$card3$card$he===void 0?void 0:_restro$card3$card$he.title);};function goToRestourentMenu(resId){navigate(`/restaurant/${resId}`);}return listOfRestaurants.length===0?/*#__PURE__*/_jsx(Shimmer,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"body w-[100%] \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:flex\",children:/*#__PURE__*/_jsx(Categories,{})}),/*#__PURE__*/_jsx(\"h1\",{className:\"ml-3 sm:ml-[180px]  headCon sm:text-[35px] font-bold\",children:resHead}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter  gap-5 flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search bg-white flex border-2 border-solid border-[#FECB0F] rounded-xl\",children:[/*#__PURE__*/_jsx(\"input\",{className:\" border-0 outline-none py-1 px-3 rounded-xl\",type:\"text\",value:searchText,onChange:e=>{setSearchText(e.target.value);},placeholder:\"Find your favourite\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#FECB0F] rounded-lg  cursor-pointer font-medium\",onClick:()=>{setFilteredRestaurants(listOfRestaurants.filter(res=>res.info.name.toLowerCase().includes(searchText.toLowerCase())));},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"filterBtn  bg-[#FECB0F] lg:{py-2 px-3}  rounded-xl\",onClick:()=>filterCardsRated(),children:\"Top rated Restaurants\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resContainer  flex flex-wrap items-center justify-center\",children:filteredRestaurants.map(restaurant=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>goToRestourentMenu(restaurant.info.id),children:/*#__PURE__*/_jsx(RestaurantCard,{resData:restaurant})}))})]});};export default Body;// setListOfRestaurants(listOfRestaurants.filter((res)=>(\n//     res.info.name.toLowerCase().includes(searchText.toLowerCase())\n// )))","map":{"version":3,"names":["React","useEffect","useState","RestaurantCard","Shimmer","Link","useNavigate","Categories","jsx","_jsx","jsxs","_jsxs","Body","listOfRestaurants","setListOfRestaurants","filteredRestaurants","setFilteredRestaurants","resHead","setResHead","searchText","setSearchText","filterCardsRated","filter","res","info","avgRating","navigate","fetchData","_json$data","_restro$card","_restro$card$card","_restro$card$card$gri","_restro$card$card$gri2","_restro$card2","_restro$card2$card","_restro$card2$card$gr","_restro$card2$card$gr2","_restro$card3","_restro$card3$card","_restro$card3$card$he","data","fetch","headers","json","restro","cards","item","_item$card","_item$card$card","_item$card$card$gridE","_item$card$card$gridE2","card","gridElements","infoWithStyle","restaurants","header","title","goToRestourentMenu","resId","length","className","children","type","value","onChange","e","target","placeholder","onClick","name","toLowerCase","includes","map","restaurant","id","resData"],"sources":["F:/React/Food-Ordering-swiggy/src/components/Body.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../CSS/body.css';\nimport RestaurantCard from './RestaurantCard';\nimport Shimmer from './Shimmer';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Categories from './Categories';\n\n\nconst Body = () => {\n    const [listOfRestaurants, setListOfRestaurants] = useState([]);\n    const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n    const [resHead, setResHead] = useState(\"\");\n    const [searchText, setSearchText] = useState(\"\");\n\n    const filterCardsRated = () => {\n        setFilteredRestaurants(listOfRestaurants.filter((res) => (\n            res.info.avgRating > 4.3\n        )))\n\n    }\n\n    const navigate=useNavigate()\n\n    useEffect(() => {\n        fetchData()\n    }, []);\n\n    const fetchData = async () => {\n        const data = await fetch(\"https://proxy.cors.sh/https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\",{\n            headers: {\n            'x-cors-api-key': 'temp_30ab0b2006237d8f81f9982b7db77f63'\n            }\n          });\n\n        const json = await data.json();\n\n        const restro = json?.data?.cards.filter(item => item.card?.card?.gridElements?.infoWithStyle?.restaurants)[0]\n        // console.log(restro)\n\n        setListOfRestaurants(restro?.card?.card?.gridElements?.infoWithStyle?.restaurants)\n        setFilteredRestaurants(restro?.card?.card?.gridElements?.infoWithStyle?.restaurants)\n        setResHead(restro?.card?.card?.header?.title)\n        \n    }\n\n    function goToRestourentMenu(resId){\n            navigate(`/restaurant/${resId}`)\n    }\n\n\n   \n\n\n\n    return  listOfRestaurants.length === 0 ? (<Shimmer />) : (\n        \n        <div className=\"body w-[100%] \">\n             <div className=\"hidden sm:flex\"><Categories /></div>\n            {/* {console.log(resHead)} */}\n                <h1 className='ml-3 sm:ml-[180px]  headCon sm:text-[35px] font-bold'>{resHead}</h1>\n            \n            <div className=\"filter  gap-5 flex\">\n                <div className=\"search bg-white flex border-2 border-solid border-[#FECB0F] rounded-xl\">\n                    <input className=' border-0 outline-none py-1 px-3 rounded-xl' type=\"text\"\n                        value={searchText}\n                        onChange={(e) => {\n                            setSearchText(e.target.value)\n                        }}\n                        placeholder='Find your favourite' />\n                    <button className='bg-[#FECB0F] rounded-lg  cursor-pointer font-medium' onClick={() => {\n                        setFilteredRestaurants(listOfRestaurants.filter((res) => (\n                            res.info.name.toLowerCase().includes(searchText.toLowerCase())\n                        )))\n                    }} >Search</button>\n                </div>\n                <button className=\"filterBtn  bg-[#FECB0F] lg:{py-2 px-3}  rounded-xl\" onClick={() => filterCardsRated()} >Top rated Restaurants</button>\n\n            </div>\n            <div  className=\"resContainer  flex flex-wrap items-center justify-center\">\n                {\n                    filteredRestaurants.map((restaurant) => (\n                         <div onClick={()=> goToRestourentMenu(restaurant.info.id)}><RestaurantCard resData={restaurant} /></div>\n                       \n                    ))\n                }\n\n            </div>\n        </div>\n    )\n\n}\n\nexport default Body;\n// setListOfRestaurants(listOfRestaurants.filter((res)=>(\n//     res.info.name.toLowerCase().includes(searchText.toLowerCase())\n// )))"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}