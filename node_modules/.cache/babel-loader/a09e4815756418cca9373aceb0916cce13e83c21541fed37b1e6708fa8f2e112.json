{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Food-Ordering-swiggy\\\\src\\\\components\\\\Body.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../CSS/body.css';\nimport RestaurantCard from './RestaurantCard';\nimport Shimmer from './Shimmer';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Categories from './Categories';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Body = () => {\n  _s();\n  const [listOfRestaurants, setListOfRestaurants] = useState([]);\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  const [resHead, setResHead] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const filterCardsRated = () => {\n    setFilteredRestaurants(listOfRestaurants.filter(res => res.info.avgRating > 4.3));\n  };\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    var _json$data, _restro$card, _restro$card$card, _restro$card$card$gri, _restro$card$card$gri2, _restro$card2, _restro$card2$card, _restro$card2$card$gr, _restro$card2$card$gr2, _restro$card3, _restro$card3$card, _restro$card3$card$he;\n    const data = await fetch(\"https://proxy.cors.sh/https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\", {\n      headers: {\n        'x-cors-api-key': 'temp_30ab0b2006237d8f81f9982b7db77f63'\n      }\n    });\n    const json = await data.json();\n    const restro = json === null || json === void 0 ? void 0 : (_json$data = json.data) === null || _json$data === void 0 ? void 0 : _json$data.cards.filter(item => {\n      var _item$card, _item$card$card, _item$card$card$gridE, _item$card$card$gridE2;\n      return (_item$card = item.card) === null || _item$card === void 0 ? void 0 : (_item$card$card = _item$card.card) === null || _item$card$card === void 0 ? void 0 : (_item$card$card$gridE = _item$card$card.gridElements) === null || _item$card$card$gridE === void 0 ? void 0 : (_item$card$card$gridE2 = _item$card$card$gridE.infoWithStyle) === null || _item$card$card$gridE2 === void 0 ? void 0 : _item$card$card$gridE2.restaurants;\n    })[0];\n    // console.log(restro)\n\n    setListOfRestaurants(restro === null || restro === void 0 ? void 0 : (_restro$card = restro.card) === null || _restro$card === void 0 ? void 0 : (_restro$card$card = _restro$card.card) === null || _restro$card$card === void 0 ? void 0 : (_restro$card$card$gri = _restro$card$card.gridElements) === null || _restro$card$card$gri === void 0 ? void 0 : (_restro$card$card$gri2 = _restro$card$card$gri.infoWithStyle) === null || _restro$card$card$gri2 === void 0 ? void 0 : _restro$card$card$gri2.restaurants);\n    setFilteredRestaurants(restro === null || restro === void 0 ? void 0 : (_restro$card2 = restro.card) === null || _restro$card2 === void 0 ? void 0 : (_restro$card2$card = _restro$card2.card) === null || _restro$card2$card === void 0 ? void 0 : (_restro$card2$card$gr = _restro$card2$card.gridElements) === null || _restro$card2$card$gr === void 0 ? void 0 : (_restro$card2$card$gr2 = _restro$card2$card$gr.infoWithStyle) === null || _restro$card2$card$gr2 === void 0 ? void 0 : _restro$card2$card$gr2.restaurants);\n    setResHead(restro === null || restro === void 0 ? void 0 : (_restro$card3 = restro.card) === null || _restro$card3 === void 0 ? void 0 : (_restro$card3$card = _restro$card3.card) === null || _restro$card3$card === void 0 ? void 0 : (_restro$card3$card$he = _restro$card3$card.header) === null || _restro$card3$card$he === void 0 ? void 0 : _restro$card3$card$he.title);\n  };\n  function goToRestourentMenu(resId) {\n    navigate(`/restaurant/${resId}`);\n  }\n  return listOfRestaurants.length === 0 ? /*#__PURE__*/_jsxDEV(Shimmer, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 47\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body w-[100%] \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hidden sm:flex\",\n      children: /*#__PURE__*/_jsxDEV(Categories, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 46\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"ml-3 sm:ml-[180px]  headCon sm:text-[35px] font-bold\",\n      children: resHead\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter  gap-5 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search bg-white flex border-2 border-solid border-[#FECB0F] rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \" border-0 outline-none py-1 px-3 rounded-xl\",\n          type: \"text\",\n          value: searchText,\n          onChange: e => {\n            setSearchText(e.target.value);\n          },\n          placeholder: \"Find your favourite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-[#FECB0F] rounded-lg  cursor-pointer font-medium\",\n          onClick: () => {\n            setFilteredRestaurants(listOfRestaurants.filter(res => res.info.name.toLowerCase().includes(searchText.toLowerCase())));\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"filterBtn  bg-[#FECB0F] lg:{py-2 px-3}  rounded-xl\",\n        onClick: () => filterCardsRated(),\n        children: \"Top rated Restaurants\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resContainer  flex flex-wrap items-center justify-center\",\n      children: filteredRestaurants.map(restaurant => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => goToRestourentMenu(restaurant.info.id),\n        children: /*#__PURE__*/_jsxDEV(RestaurantCard, {\n          resData: restaurant\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 26\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Body, \"cRQcaGxXtabAsec52xNu9tSrRgg=\", false, function () {\n  return [useNavigate];\n});\n_c = Body;\nexport default Body;\n// setListOfRestaurants(listOfRestaurants.filter((res)=>(\n//     res.info.name.toLowerCase().includes(searchText.toLowerCase())\n// )))\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["React","useEffect","useState","RestaurantCard","Shimmer","Link","useNavigate","Categories","jsxDEV","_jsxDEV","Body","_s","listOfRestaurants","setListOfRestaurants","filteredRestaurants","setFilteredRestaurants","resHead","setResHead","searchText","setSearchText","filterCardsRated","filter","res","info","avgRating","navigate","fetchData","_json$data","_restro$card","_restro$card$card","_restro$card$card$gri","_restro$card$card$gri2","_restro$card2","_restro$card2$card","_restro$card2$card$gr","_restro$card2$card$gr2","_restro$card3","_restro$card3$card","_restro$card3$card$he","data","fetch","headers","json","restro","cards","item","_item$card","_item$card$card","_item$card$card$gridE","_item$card$card$gridE2","card","gridElements","infoWithStyle","restaurants","header","title","goToRestourentMenu","resId","length","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","value","onChange","e","target","placeholder","onClick","name","toLowerCase","includes","map","restaurant","id","resData","_c","$RefreshReg$"],"sources":["D:/React/Food-Ordering-swiggy/src/components/Body.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../CSS/body.css';\nimport RestaurantCard from './RestaurantCard';\nimport Shimmer from './Shimmer';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Categories from './Categories';\n\n\nconst Body = () => {\n    const [listOfRestaurants, setListOfRestaurants] = useState([]);\n    const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n    const [resHead, setResHead] = useState(\"\");\n    const [searchText, setSearchText] = useState(\"\");\n\n    const filterCardsRated = () => {\n        setFilteredRestaurants(listOfRestaurants.filter((res) => (\n            res.info.avgRating > 4.3\n        )))\n\n    }\n\n    const navigate=useNavigate()\n\n    useEffect(() => {\n        fetchData()\n    }, []);\n\n    const fetchData = async () => {\n        const data = await fetch(\"https://proxy.cors.sh/https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\",{\n            headers: {\n            'x-cors-api-key': 'temp_30ab0b2006237d8f81f9982b7db77f63'\n            }\n          });\n\n        const json = await data.json();\n\n        const restro = json?.data?.cards.filter(item => item.card?.card?.gridElements?.infoWithStyle?.restaurants)[0]\n        // console.log(restro)\n\n        setListOfRestaurants(restro?.card?.card?.gridElements?.infoWithStyle?.restaurants)\n        setFilteredRestaurants(restro?.card?.card?.gridElements?.infoWithStyle?.restaurants)\n        setResHead(restro?.card?.card?.header?.title)\n        \n    }\n\n    function goToRestourentMenu(resId){\n            navigate(`/restaurant/${resId}`)\n    }\n\n\n   \n\n\n\n    return  listOfRestaurants.length === 0 ? (<Shimmer />) : (\n        \n        <div className=\"body w-[100%] \">\n             <div className=\"hidden sm:flex\"><Categories /></div>\n            {/* {console.log(resHead)} */}\n                <h1 className='ml-3 sm:ml-[180px]  headCon sm:text-[35px] font-bold'>{resHead}</h1>\n            \n            <div className=\"filter  gap-5 flex\">\n                <div className=\"search bg-white flex border-2 border-solid border-[#FECB0F] rounded-xl\">\n                    <input className=' border-0 outline-none py-1 px-3 rounded-xl' type=\"text\"\n                        value={searchText}\n                        onChange={(e) => {\n                            setSearchText(e.target.value)\n                        }}\n                        placeholder='Find your favourite' />\n                    <button className='bg-[#FECB0F] rounded-lg  cursor-pointer font-medium' onClick={() => {\n                        setFilteredRestaurants(listOfRestaurants.filter((res) => (\n                            res.info.name.toLowerCase().includes(searchText.toLowerCase())\n                        )))\n                    }} >Search</button>\n                </div>\n                <button className=\"filterBtn  bg-[#FECB0F] lg:{py-2 px-3}  rounded-xl\" onClick={() => filterCardsRated()} >Top rated Restaurants</button>\n\n            </div>\n            <div  className=\"resContainer  flex flex-wrap items-center justify-center\">\n                {\n                    filteredRestaurants.map((restaurant) => (\n                         <div onClick={()=> goToRestourentMenu(restaurant.info.id)}><RestaurantCard resData={restaurant} /></div>\n                       \n                    ))\n                }\n\n            </div>\n        </div>\n    )\n\n}\n\nexport default Body;\n// setListOfRestaurants(listOfRestaurants.filter((res)=>(\n//     res.info.name.toLowerCase().includes(searchText.toLowerCase())\n// )))"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}